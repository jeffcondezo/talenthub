{% load static %}
<!DOCTYPE html>
<!-- 
Template Name:  SmartAdmin Responsive WebApp - Template build with Twitter Bootstrap 4
Version: 4.6.0
Author: Sunnyat A.
Website: http://gootbootstrap.com
Purchase: https://wrapbootstrap.com/theme/smartadmin-responsive-webapp-WB0573SK0?ref=myorange
License: You must have a valid license purchased only from wrapbootstrap.com (link above) in order to legally use this theme for your project.
-->
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>
            Postulantes - SmartAdmin v4.6.0
        </title>
        <meta name="description" content="Gestión de Postulantes">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no, minimal-ui">
        <!-- Call App Mode on ios devices -->
        <meta name="apple-mobile-web-app-title" content="Postulantes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <!-- Mobile proof your site -->
        <link rel="manifest" href="{% static 'media/data/manifest.json' %}">
        <!-- Remove phone, date, address and email as default links -->
        <meta name="format-detection" content="telephone=no">
        <meta name="format-detection" content="date=no">
        <meta name="format-detection" content="address=no">
        <meta name="format-detection" content="email=no">
        <meta name="theme-color" content="#37393e">
        <!-- iDevice splash screens -->
        <link href="{% static 'img/splashscreens/iphone6_splash.png' %}" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
        <link href="{% static 'img/splashscreens/iphoneplus_splash.png' %}" media="(device-width: 621px) and (device-height: 1104px) and (-webkit-device-pixel-ratio: 3)" rel="apple-touch-startup-image">
        <link href="{% static 'img/splashscreens/iphonex_splash.png' %}" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)" rel="apple-touch-startup-image">
        <link href="{% static 'img/splashscreens/iphonexr_splash.png' %}" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
        <link href="{% static 'img/splashscreens/iphonexsmax_splash.png' %}" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)" rel="apple-touch-startup-image">
        <link href="{% static 'img/splashscreens/ipad_splash.png' %}" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
        <link href="{% static 'img/splashscreens/ipadpro1_splash.png' %}" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
        <link href="{% static 'img/splashscreens/ipadpro3_splash.png' %}" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
        <link href="{% static 'img/splashscreens/ipadpro2_splash.png' %}" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
        <!-- Remove Tap Highlight on Windows Phone IE -->
        <meta name="msapplication-tap-highlight" content="no">
        <!-- base css -->
        <link id="vendorsbundle" rel="stylesheet" media="screen, print" href="{% static 'css/vendors.bundle.css' %}">
        <link id="appbundle" rel="stylesheet" media="screen, print" href="{% static 'css/app.bundle.css' %}">
        <link id="mytheme" rel="stylesheet" media="screen, print" href="#">
        <link id="myskin" rel="stylesheet" media="screen, print" href="{% static 'css/skins/skin-master.css' %}">
        <!-- Place favicon.ico in the root directory -->
        <link rel="apple-touch-icon" sizes="180x180" href="{% static 'img/favicon/apple-touch-icon.png' %}">
        <link rel="icon" type="image/png" sizes="32x32" href="{% static 'img/favicon/favicon-32x32.png' %}">
        <link rel="mask-icon" href="{% static 'img/favicon/safari-pinned-tab.svg' %}" color="#5bbad5">
        <style>
    /* Sobrescribe el color principal */
    .color-primary-500,
    .bg-primary-500,
    .btn-primary:not(.header-btn),
    .border-primary,
    .text-primary,
    .badge-primary,
    .page-sidebar,
    .page-logo,
    .nav-footer,
    .primary-nav,
    .nav-menu,
    .nav-menu > li.active > a,
    .nav-menu > li > a.active,
    .nav-menu > li > a:focus,
    .nav-menu > li > a:hover,
    .nav-menu > li > a >i,
    .nav-menu > ul > li > a{
        background-color: #12A58A !important;
        border-color: #12A58A !important;
        color: white !important;
    }
    
    /* Asegurar que el header mantenga su estilo por defecto */
    .page-header {
        background-color: #fff !important;
        border-bottom: 1px solid #e3e6f0 !important;
        padding: 0 2rem !important;
    }
    
    .page-header .page-logo {
        background-color: transparent !important;
    }
    
    .page-header .page-logo a {
        background-color: transparent !important;
        color: #5a5c69 !important;
    }
    
    .page-header .page-logo-text {
        color: #5a5c69 !important;
    }
    
    .page-header .page-logo i {
        color: #5a5c69 !important;
    }
    
    /* Asegurar que los botones del header mantengan su estilo por defecto */
    .page-header .header-btn,
    .page-header .btn {
        background-color: #f8f9fa !important;
        border-color: #dee2e6 !important;
        color: #495057 !important;
    }
    
    .page-header .header-btn:hover,
    .page-header .btn:hover {
        background-color: #e9ecef !important;
        border-color: #adb5bd !important;
        color: #212529 !important;
    }
    
    /* Asegurar que el dropdown-icon-menu tenga el posicionamiento correcto */
    .page-header .dropdown-icon-menu {
        position: relative !important;
        display: inline-block !important;
    }
    
    
    .page-header .ml-auto {
        background-color: transparent !important;
    }
    
    .page-header .header-icon {
        color: #5a5c69 !important;
    }
    
    .page-header .header-icon:hover {
        color: #212529 !important;
    }
    .mod-nav-link:not(.nav-function-top):not(.nav-function-minify):not(.mod-hide-nav-icons) ul.nav-menu:not(.nav-menu-compact) > li > ul > li a:after{
        background-color: white;
    }
    .mod-nav-link:not(.nav-function-top):not(.nav-function-minify):not(.mod-hide-nav-icons) ul.nav-menu:not(.nav-menu-compact) > li > ul:before{
        border-left: 1px solid white;
    }
    .fal, .fa-info-circle, .nav-link-text, .waves-effect > i{
        color: white;;
    }
    .page-logo img{
        width: 300px;
        height: 40px;
    }


    .btn-info{
        background-color: #0073C5;
    }
        .btn-info:hover{
        background-color: #3393D9;
    }

        .btn-warning{
        background-color: #F4B400;
    }
            .btn-warning:hover{
        background-color: #F6C233;
    }

        .btn-danger{
        background-color: #E74C3C;
    }
            .btn-danger:hover{
        background-color: #EC7063;
    }

        .btn-success{
        background-color: #27AE60;
    }
            .btn-success:hover{
        background-color: #52C882;
    }

    .text-custom-primary {
        color: #12A58A !important;
    }

    .icon-custom-primary {
        color: #12A58A !important;
    }

    .bg-custom-primary {
        background-color: #12A58A !important;
    }

    .border-custom-primary {
        border-color: #12A58A !important;
    }

    .badge-custom-primary {
        background-color: #12A58A !important;
        color: white !important;
    }

    .card-header.bg-light {
        background-color: #f8f9fa !important;
        border-bottom: 1px solid #dee2e6;
    }

    .table th {
        background-color: #f8f9fa;
        border-top: none;
        font-weight: 600;
        color: #495057;
    }

    .table td {
        vertical-align: middle;
    }

    .badge {
        font-size: 0.75em;
        padding: 0.375rem 0.75rem;
    }

    .btn-group .btn {
        margin-right: 2px;
    }

    .btn-group .btn:last-child {
        margin-right: 0;
    }

    .spinner-border-sm {
        width: 1rem;
        height: 1rem;
    }

    .toast-container {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 9999;
    }

    .toast {
        min-width: 300px;
    }

    .form-control:focus {
        border-color: #12A58A;
        box-shadow: 0 0 0 0.2rem rgba(18, 165, 138, 0.25);
    }

    .custom-select:focus {
        border-color: #12A58A;
        box-shadow: 0 0 0 0.2rem rgba(18, 165, 138, 0.25);
    }


    .page-header h1 {
        color: white;
        margin: 0;
    }

    .page-header .breadcrumb {
        background: transparent;
        padding: 0;
        margin: 0;
    }

    .page-header .breadcrumb-item {
        color: rgba(255, 255, 255, 0.8);
    }

    .page-header .breadcrumb-item.active {
        color: white;
    }

    .page-header .breadcrumb-item + .breadcrumb-item::before {
        color: rgba(255, 255, 255, 0.8);
    }

    .stats-card {
        background: white;
        border-radius: 10px;
        padding: 1.5rem;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        margin-bottom: 1.5rem;
        transition: transform 0.2s ease;
    }

    .stats-card:hover {
        transform: translateY(-2px);
    }

    .stats-card .stats-icon {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        color: white;
        margin-bottom: 1rem;
    }

    .stats-card .stats-number {
        font-size: 2rem;
        font-weight: bold;
        color: #2c3e50;
        margin-bottom: 0.5rem;
    }

    .stats-card .stats-label {
        color: #6c757d;
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .filter-card {
        background: white;
        border-radius: 10px;
        padding: 1.5rem;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        margin-bottom: 1.5rem;
    }

    .data-table-card {
        background: white;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        overflow: hidden;
    }

    .data-table-card .card-header {
        background: #f8f9fa;
        border-bottom: 1px solid #dee2e6;
        padding: 1.5rem;
    }

    .data-table-card .card-body {
        padding: 0;
    }

    .table-responsive {
        border-radius: 0;
    }

    .pagination {
        margin: 0;
        padding: 1rem 1.5rem;
        background: #f8f9fa;
        border-top: 1px solid #dee2e6;
    }

    .pagination .page-link {
        color: #12A58A;
        border-color: #dee2e6;
    }

    .pagination .page-link:hover {
        color: #0d8a73;
        background-color: #e9ecef;
        border-color: #dee2e6;
    }

    .pagination .page-item.active .page-link {
        background-color: #12A58A;
        border-color: #12A58A;
    }

    .pagination .page-item.disabled .page-link {
        color: #6c757d;
        background-color: #fff;
        border-color: #dee2e6;
    }

    .modal-header {
        background: #12A58A;
        color: white;
        border-bottom: none;
    }

    .modal-header .close {
        color: white;
        opacity: 0.8;
    }

    .modal-header .close:hover {
        opacity: 1;
    }

    .btn-primary {
        background-color: #12A58A;
        border-color: #12A58A;
    }

    .btn-primary:hover {
        background-color: #0d8a73;
        border-color: #0d8a73;
    }

    .btn-primary:focus {
        box-shadow: 0 0 0 0.2rem rgba(18, 165, 138, 0.5);
    }

    .alert-info {
        background-color: #d1ecf1;
        border-color: #bee5eb;
        color: #0c5460;
    }

    .alert-success {
        background-color: #d4edda;
        border-color: #c3e6cb;
        color: #155724;
    }

    .alert-warning {
        background-color: #fff3cd;
        border-color: #ffeaa7;
        color: #856404;
    }

    .alert-danger {
        background-color: #f8d7da;
        border-color: #f5c6cb;
        color: #721c24;
    }

    .badge-info {
        background-color: #0073C5;
    }

    .badge-success {
        background-color: #27AE60;
    }

    .badge-warning {
        background-color: #F4B400;
        color: #2c3e50;
    }

    .badge-danger {
        background-color: #E74C3C;
    }

    .badge-secondary {
        background-color: #6c757d;
    }

    .text-muted {
        color: #6c757d !important;
    }

    .text-success {
        color: #27AE60 !important;
    }

    .text-warning {
        color: #F4B400 !important;
    }

    .text-danger {
        color: #E74C3C !important;
    }

    .text-info {
        color: #0073C5 !important;
    }

    .border-left-primary {
        border-left: 4px solid #12A58A !important;
    }

    .border-left-success {
        border-left: 4px solid #27AE60 !important;
    }

    .border-left-warning {
        border-left: 4px solid #F4B400 !important;
    }

    .border-left-danger {
        border-left: 4px solid #E74C3C !important;
    }

    .border-left-info {
        border-left: 4px solid #0073C5 !important;
    }

    .loading-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
    }

    .loading-spinner {
        background: white;
        padding: 2rem;
        border-radius: 10px;
        text-align: center;
    }

    .loading-spinner .spinner-border {
        width: 3rem;
        height: 3rem;
        color: #12A58A;
    }

    .empty-state {
        text-align: center;
        padding: 3rem 1rem;
        color: #6c757d;
    }

    .empty-state i {
        font-size: 4rem;
        margin-bottom: 1rem;
        color: #dee2e6;
    }

    .empty-state h3 {
        color: #495057;
        margin-bottom: 0.5rem;
    }

    .empty-state p {
        margin-bottom: 0;
    }

    .search-highlight {
        background-color: #fff3cd;
        padding: 0.1rem 0.2rem;
        border-radius: 0.2rem;
    }

    .status-badge {
        font-size: 0.75rem;
        padding: 0.25rem 0.5rem;
        border-radius: 0.25rem;
        font-weight: 500;
    }

    .status-postulado {
        background-color: #e3f2fd;
        color: #1976d2;
    }

    .status-en-revision {
        background-color: #fff3e0;
        color: #f57c00;
    }

    .status-entrevista {
        background-color: #f3e5f5;
        color: #7b1fa2;
    }

    .status-evaluacion {
        background-color: #e8f5e8;
        color: #388e3c;
    }

    .status-aprobado {
        background-color: #e8f5e8;
        color: #2e7d32;
    }

    .status-rechazado {
        background-color: #ffebee;
        color: #c62828;
    }

    .status-retirado {
        background-color: #fafafa;
        color: #616161;
    }

    @media (max-width: 768px) {
        .page-header {
            padding: 1rem 0;
        }

        .page-header h1 {
            font-size: 1.5rem;
        }

        .stats-card {
            margin-bottom: 1rem;
        }

        .stats-card .stats-number {
            font-size: 1.5rem;
        }

        .filter-card {
            margin-bottom: 1rem;
        }

        .data-table-card .card-header {
            padding: 1rem;
        }

        .pagination {
            padding: 1rem;
        }

        .table-responsive {
            font-size: 0.875rem;
        }

        .btn-group .btn {
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
        }
    }

    @media (max-width: 576px) {
        .page-header h1 {
            font-size: 1.25rem;
        }

        .stats-card .stats-number {
            font-size: 1.25rem;
        }

        .table-responsive {
            font-size: 0.75rem;
        }

        .btn-group .btn {
            padding: 0.2rem 0.4rem;
            font-size: 0.7rem;
        }
    }
        </style>
    </head>
    <body class="mod-bg-1 mod-nav-link">
        <script>
            // Toast container
            document.addEventListener('DOMContentLoaded', function() {
                // Crear contenedor de toast si no existe
                if (!document.getElementById('toast-container')) {
                    const toastContainer = document.createElement('div');
                    toastContainer.id = 'toast-container';
                    toastContainer.style.cssText = `
                        position: fixed;
                        top: 20px;
                        right: 20px;
                        z-index: 9999;
                        max-width: 350px;
                    `;
                    document.body.appendChild(toastContainer);
                }
                
                // Mostrar toasts pendientes
                showPendingToasts();
            });

            // Función para mostrar toast
            function showToast(message, type = 'info', duration = 5000) {
                const toastContainer = document.getElementById('toast-container');
                if (!toastContainer) return;

                const toast = document.createElement('div');
                toast.className = `alert alert-${type} alert-dismissible fade show`;
                toast.style.cssText = `
                    margin-bottom: 10px;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                    border: none;
                    border-radius: 8px;
                `;

                const icon = type === 'success' ? 'fa-check-circle' : 
                           type === 'error' ? 'fa-exclamation-circle' : 
                           type === 'warning' ? 'fa-exclamation-triangle' : 'fa-info-circle';

                toast.innerHTML = `
                    <i class="fal ${icon} mr-2"></i>
                    ${message}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                `;

                toastContainer.appendChild(toast);

                // Auto-remove after duration
                setTimeout(() => {
                    if (toast.parentNode) {
                        toast.remove();
                    }
                }, duration);
            }

            // Función para mostrar toast persistente
            function showPersistentToast(message, type = 'info') {
                // Guardar en localStorage
                const toasts = JSON.parse(localStorage.getItem('pendingToasts') || '[]');
                toasts.push({ message, type, timestamp: Date.now() });
                localStorage.setItem('pendingToasts', JSON.stringify(toasts));
                
                showToast(message, type);
            }

            // Función para mostrar toasts pendientes
            function showPendingToasts() {
                const toasts = JSON.parse(localStorage.getItem('pendingToasts') || '[]');
                toasts.forEach(toast => {
                    showToast(toast.message, toast.type);
                });
                localStorage.removeItem('pendingToasts');
            }

            // Función para ocultar toast
            function hideToast() {
                const toastContainer = document.getElementById('toast-container');
                if (toastContainer) {
                    toastContainer.innerHTML = '';
                }
            }
        </script>
        <div class="page-wrapper">
            <div class="page-inner">
                <!-- BEGIN Left Aside -->
                <aside class="page-sidebar">
                    <div class="page-logo" style="text-align: left;" >
                            <img src="{% static 'img/logo_blanco.svg' %}" alt="SmartAdmin WebApp" aria-roledescription="logo">

                    </div>
                    <!-- BEGIN PRIMARY NAVIGATION -->
                    <nav id="js-primary-nav" class="primary-nav" role="navigation">
                    <div class="nav-filter">
                        <div class="position-relative">
                            <input type="text" placeholder="Filter menu" class="form-control" tabindex="0">
                            <a href="#" onclick="return false;" class="btn-primary btn-search-close js-waves-off" data-action="toggle" data-class="list-filter-active" data-target=".page-sidebar">
                                <i class="fal fa-chevron-up"></i>
                            </a>
                        </div>
                    </div>
                    <div class="info-card">
                        <img src="{% static 'img/demo/avatars/avatar-m.png' %}" class="profile-image rounded-circle" alt="Dr. Codex Lantern">
                        <div class="info-card-text">
                            <a href="#" class="d-flex align-items-center text-white">
                                <span class="text-truncate text-truncate-sm d-inline-block">
                                    Dr. Codex Lantern
                                </span>
                            </a>
                            <span class="d-none d-sm-inline-block text-truncate text-truncate-sm">Administrador</span>
                        </div>
                        <img src="{% static 'img/card-backgrounds/cover-2-lg.png' %}" class="cover" alt="cover">
                        <a href="#" onclick="return false;" class="pull-trigger-btn" data-action="toggle" data-class="list-filter-active" data-target=".page-sidebar" data-focus="nav_filter_input">
                            <i class="fal fa-angle-down"></i>
                        </a>
                    </div>
                    <ul id="js-nav-menu" class="nav-menu">
                        <li class="nav-title">Sistema de Gestión de Talentos</li>
                        <li>
                            <a href="#" title="Maestros" data-filter-tags="maestros personas">
                                <i class="fal fa-database"></i>
                                <span class="nav-link-text">Maestros</span>
                            </a>
                            <ul>
                                <li>
                                    <a href="{% url 'master:personas' %}" title="Personas" data-filter-tags="personas">
                                        <i class="fal fa-user"></i>
                                        <span class="nav-link-text">Personas</span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="active">
                            <a href="{% url 'master:convocatorias' %}" title="Convocatorias" data-filter-tags="convocatorias">
                                <i class="fal fa-bullhorn"></i>
                                <span class="nav-link-text">Convocatorias</span>
                            </a>
                        </li>
                    </ul>
                    <div class="filter-message js-filter-message bg-success-600"></div>
                </nav>
                <!-- END PRIMARY NAVIGATION -->
                <!-- NAV FOOTER -->
                <div class="nav-footer shadow-top">
                    <a href="#" onclick="return false;" data-action="toggle" data-class="nav-function-minify" class="hidden-md-down">
                        <i class="ni ni-chevron-right"></i>
                        <i class="ni ni-chevron-right"></i>
                    </a>
                    <ul class="list-table m-auto nav-footer-buttons">
                        <li>
                            <a href="javascript:void(0);" data-toggle="tooltip" data-placement="top" title="Chat logs">
                                <i class="fal fa-comments"></i>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" data-toggle="tooltip" data-placement="top" title="Support Chat">
                                <i class="fal fa-life-ring"></i>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" data-toggle="tooltip" data-placement="top" title="Make a call">
                                <i class="fal fa-phone"></i>
                            </a>
                        </li>
                    </ul>
                </div> <!-- END NAV FOOTER -->
            </aside>
            <!-- END Left Aside -->
            <div class="page-content-wrapper">
                <!-- BEGIN Page Header -->
                <header class="page-header" role="banner">
                    <!-- we need this logo when user switches to nav-function-top -->
                    <div class="page-logo">
                        <a href="#" class="page-logo-link press-scale-down d-flex align-items-center position-relative" data-toggle="modal" data-target="#modal-shortcut">
                            <img src="{% static 'img/logo.png' %}" alt="SmartAdmin WebApp" aria-roledescription="logo">
                            <span class="page-logo-text mr-1">SmartAdmin WebApp</span>
                            <span class="position-absolute text-white opacity-50 small pos-top pos-right mr-2 mt-n2"></span>
                            <i class="fal fa-angle-down d-inline-block ml-1 fs-lg color-primary-300"></i>
                        </a>
                    </div>
                    <!-- DOC: nav menu layout change shortcut -->
                    <div class="hidden-md-down dropdown-icon-menu position-relative">
                        <a href="#" class="header-btn btn js-waves-off" data-action="toggle" data-class="nav-function-hidden" title="Hide Navigation">
                            <i class="ni ni-menu"></i>
                        </a>
                        <ul>
                            <li>
                                <a href="#" class="btn js-waves-off" data-action="toggle" data-class="nav-function-minify" title="Minify Navigation">
                                    <i class="ni ni-minify-nav"></i>
                                </a>
                            </li>
                            <li>
                                <a href="#" class="btn js-waves-off" data-action="toggle" data-class="nav-function-fixed" title="Lock Navigation">
                                    <i class="ni ni-lock-nav"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <!-- DOC: mobile button appears during mobile width -->
                    <div class="hidden-lg-up">
                        <a href="#" class="header-btn btn press-scale-down" data-action="toggle" data-class="mobile-nav-on">
                            <i class="ni ni-menu"></i>
                        </a>
                    </div>
                    <div class="search">
                        <form class="app-forms hidden-xs-down" role="search" action="page_search.html" autocomplete="off">
                            <input type="text" id="search-field" placeholder="" class="form-control" tabindex="1">
                            <a href="#" onclick="return false;" class="btn-danger btn-search-close js-waves-off d-none" data-action="toggle" data-class="mobile-search-on">
                                <i class="fal fa-times"></i>
                            </a>
                        </form>
                    </div>
                    <div class="ml-auto d-flex">
                        <!-- activate app search icon (mobile) -->
                        <div class="hidden-sm-up">
                            <a href="#" class="header-icon" data-action="toggle" data-class="mobile-search-on" data-focus="search-field" title="Search">
                                <i class="fal fa-search"></i>
                            </a>
                        </div>
                        <!-- app settings -->
                        <!--<div class="hidden-md-down" data-toggle="tooltip" data-placement="bottom" data-original-title="Layout Settings" data-trigger="hover">
                            <a href="#" class="header-icon" data-toggle="modal" data-target=".js-modal-settings">
                                <i class="fal fa-cog"></i>
                            </a>
                        </div>-->
                        <!-- app darkmode -->
                        <div class="hidden-md-down" id="mode-d" data-toggle="tooltip" data-placement="bottom" data-original-title="Switch to DarkMode" data-trigger="hover">
                            <a href="#" class="header-icon" onClick="layouts.mode('dark');">
                                <svg style="font-size:17px" data-fa-symbol="delete" class="fa-adjust fa-w-16 fa-fw" aria-hidden="true" data-prefix="fal" data-icon="adjust" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg="" id="delete">
                                    <path fill="currentColor" d="M256 40c119.945 0 216 97.337 216 216 0 119.945-97.337 216-216 216-119.945 0-216-97.337-216-216 0-119.945 97.337-216 216-216m0-32C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm-32 124.01v247.98c-53.855-13.8-96-63.001-96-123.99 0-60.99 42.145-110.19 96-123.99M256 96c-88.366 0-160 71.634-160 160s71.634 160 160 160V96z"></path>
                                </svg>
                            </a>
                        </div>
                        <div class="hidden-md-down" id="mode-l" data-toggle="tooltip" data-placement="bottom" data-original-title="Switch to LightMode" data-trigger="hover">
                            <a href="#" class="header-icon" onClick="layouts.mode('light');">
                                <svg style="font-size:17px" data-fa-symbol="light-mode" class="fa-circle fa-w-16 fa-fw" aria-hidden="true" data-prefix="fas" data-icon="circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg="" id="delete">
                                    <path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"></path>
                                </svg>
                            </a>
                        </div>
                        <div class="hidden-md-down" id="mode-n" data-toggle="tooltip" data-placement="bottom" data-original-title="Switch to Default" data-trigger="hover">
                            <a href="#" class="header-icon" onClick="layouts.mode('default');">
                                <svg style="font-size:17px" data-fa-symbol="normal-mode" class="fa-circle fa-w-16 fa-fw" aria-hidden="true" data-prefix="fal" data-icon="circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg="" id="delete">
                                    <path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"></path>
                                </svg>
                            </a>
                        </div>
                        <!-- app user menu -->
                        <div>
                            <a href="#" data-toggle="dropdown" title="drlantern@gotbootstrap.com" class="header-icon d-flex align-items-center justify-content-center ml-2">
                                <img src="{% static 'img/demo/avatars/avatar-admin.png' %}" class="profile-image rounded-circle" alt="Dr. Codex Lantern">
                            </a>
                            <div class="dropdown-menu dropdown-menu-animated dropdown-lg">
                                <div class="dropdown-header bg-trans-gradient d-flex flex-row py-4 rounded-top">
                                    <div class="d-flex flex-row align-items-center mt-1 mb-1 color-white">
                                        <span class="mr-2">
                                            <img src="{% static 'img/demo/avatars/avatar-admin.png' %}" class="rounded-circle profile-image" alt="Dr. Codex Lantern">
                                        </span>
                                        <div class="info-card-text">
                                            <div class="fs-lg text-truncate text-truncate-lg">Dr. Codex Lantern</div>
                                            <span class="text-truncate text-truncate-md opacity-80">drlantern@gotbootstrap.com</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="dropdown-divider m-0"></div>
                                <a href="#" class="dropdown-item" data-action="app-reset">
                                    <span data-i18n="drpdwn.reset_layout">Reset Layout</span>
                                </a>
                                <a href="#" class="dropdown-item" data-action="app-fullscreen">
                                    <span data-i18n="drpdwn.fullscreen">Fullscreen</span>
                                    <i class="float-right text-muted fw-n">F11</i>
                                </a>
                                <a href="#" class="dropdown-item" data-action="app-print">
                                    <span data-i18n="drpdwn.print">Print</span>
                                </a>
                                <div class="dropdown-divider m-0"></div>
                                <a class="dropdown-item fw-500 pt-3 pb-3" href="page_login.html">
                                    <span data-i18n="drpdwn.page-logout">Logout</span>
                                    <span class="float-right fw-n">&commat;codex</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </header>
                <!-- END Page Header -->
                <main id="js-page-content" role="main" class="page-content">
                    <ol class="breadcrumb page-breadcrumb">
                        <li class="breadcrumb-item"><a href="javascript:void(0);">SmartAdmin</a></li>
                        <li class="breadcrumb-item"><a href="{% url 'master:convocatorias' %}">Convocatorias</a></li>
                        <li class="breadcrumb-item"><a href="{% url 'master:convocatoria_detail' id=convocatoria.id %}">{{ convocatoria.titulo|truncatechars:30 }}</a></li>
                        <li class="breadcrumb-item active">Postulantes</li>
                        <li class="position-absolute pos-top pos-right d-none d-sm-block"><span class="js-get-date"></span></li>
                    </ol>
                    <div class="subheader">
                        <h1 class="subheader-title">
                            <i class='subheader-icon fal fa-users'></i> Postulantes: <span class='fw-300'>{{ convocatoria.titulo }}</span> <sup class='badge badge-primary fw-500'>Lista</sup>
                            <small>
                                Lista de postulantes para esta convocatoria.
                            </small>
                        </h1>
                    </div>
                    <div class="row">
                        <div class="col-xl-12">
                            <div id="panel-1" class="panel">
                                <div class="panel-hdr">
                                    <h2>
                                        Lista de Postulantes - {{ convocatoria.titulo }}
                                    </h2>
                                    <div class="panel-toolbar">
                                        <button class="btn btn-panel" data-action="panel-collapse" data-toggle="tooltip" data-offset="0,10" data-original-title="Collapse"></button>
                                        <button class="btn btn-panel" data-action="panel-fullscreen" data-toggle="tooltip" data-offset="0,10" data-original-title="Fullscreen"></button>
                                        <button class="btn btn-panel" data-action="panel-close" data-toggle="tooltip" data-offset="0,10" data-original-title="Close"></button>
                                    </div>
                                </div>
                                <div class="panel-container show">
                                    <div class="panel-content">
                <!-- Estadísticas -->
                <div class="row">
                    <div class="col-xl-3 col-md-6">
                        <div class="stats-card">
                            <div class="stats-icon bg-primary">
                                <i class="fal fa-users"></i>
                            </div>
                            <div class="stats-number">{{ total_postulaciones }}</div>
                            <div class="stats-label">Total Postulantes</div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-md-6">
                        <div class="stats-card">
                            <div class="stats-icon bg-info">
                                <i class="fal fa-file-alt"></i>
                            </div>
                            <div class="stats-number">{{ postulaciones_por_estado.POSTULADO }}</div>
                            <div class="stats-label">Postulados</div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-md-6">
                        <div class="stats-card">
                            <div class="stats-icon bg-warning">
                                <i class="fal fa-eye"></i>
                            </div>
                            <div class="stats-number">{{ postulaciones_por_estado.EN_REVISION }}</div>
                            <div class="stats-label">En Revisión</div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-md-6">
                        <div class="stats-card">
                            <div class="stats-icon bg-success">
                                <i class="fal fa-check-circle"></i>
                            </div>
                            <div class="stats-number">{{ postulaciones_por_estado.APROBADO }}</div>
                            <div class="stats-label">Aprobados</div>
                        </div>
                    </div>
                </div>

                <!-- Filtros -->
                <div class="row mb-3">
                    <div class="col-md-8">
                        <form method="get" class="form-inline">
                            <div class="form-group mr-2">
                                <input type="text" name="search" class="form-control" placeholder="Buscar postulantes..." value="{{ search }}">
                            </div>
                            <div class="form-group mr-2">
                                <select name="estado" class="form-control">
                                    <option value="">Todos los estados</option>
                                    {% for value, label in estado_choices %}
                                        <option value="{{ value }}" {% if estado == value %}selected{% endif %}>{{ label }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary">
                                <i class="fal fa-search"></i>
                            </button>
                            {% if search or estado %}
                            <a href="{% url 'master:postulantes' convocatoria_id=convocatoria.id %}" class="btn btn-secondary ml-2">
                                <i class="fal fa-times"></i>
                            </a>
                            {% endif %}
                        </form>
                    </div>
                    <div class="col-md-4 text-right">
                    </div>
                </div>

                <!-- Tabla de Postulantes -->
                <div class="table-responsive">
                        {% if postulaciones %}
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Postulante</th>
                                            <th>Documento</th>
                                            <th>Email</th>
                                            <th>Estado</th>
                                            <th>Fecha Postulación</th>
                                            <th>Experiencia</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for postulacion in postulaciones %}
                                        <tr>
                                            <td>{{ postulacion.id }}</td>
                                            <td>
                                                <strong>{{ postulacion.persona.nombre_completo }}</strong>
                                            </td>
                                            <td>
                                                <span class="badge badge-info">{{ postulacion.persona.get_tipo_documento_display }}</span>
                                                <br>
                                                <small>{{ postulacion.persona.numero_documento }}</small>
                                            </td>
                                            <td>
                                                {% if postulacion.persona.email %}
                                                    <a href="mailto:{{ postulacion.persona.email }}">{{ postulacion.persona.email }}</a>
                                                {% else %}
                                                    <span class="text-muted">No especificado</span>
                                                {% endif %}
                                            </td>
                                            <td>
                                                {% if postulacion.estado_postulacion == 'POSTULADO' %}
                                                    <span class="status-badge status-postulado">
                                                        {{ postulacion.get_estado_postulacion_display }}
                                                    </span>
                                                {% elif postulacion.estado_postulacion == 'EN_REVISION' %}
                                                    <span class="status-badge status-en-revision">
                                                        {{ postulacion.get_estado_postulacion_display }}
                                                    </span>
                                                {% elif postulacion.estado_postulacion == 'ENTREVISTA' %}
                                                    <span class="status-badge status-entrevista">
                                                        {{ postulacion.get_estado_postulacion_display }}
                                                    </span>
                                                {% elif postulacion.estado_postulacion == 'EVALUACION' %}
                                                    <span class="status-badge status-evaluacion">
                                                        {{ postulacion.get_estado_postulacion_display }}
                                                    </span>
                                                {% elif postulacion.estado_postulacion == 'APROBADO' %}
                                                    <span class="status-badge status-aprobado">
                                                        {{ postulacion.get_estado_postulacion_display }}
                                                    </span>
                                                {% elif postulacion.estado_postulacion == 'RECHAZADO' %}
                                                    <span class="status-badge status-rechazado">
                                                        {{ postulacion.get_estado_postulacion_display }}
                                                    </span>
                                                {% elif postulacion.estado_postulacion == 'RETIRADO' %}
                                                    <span class="status-badge status-retirado">
                                                        {{ postulacion.get_estado_postulacion_display }}
                                                    </span>
                                                {% else %}
                                                    <span class="status-badge status-postulado">
                                                        {{ postulacion.get_estado_postulacion_display }}
                                                    </span>
                                                {% endif %}
                                            </td>
                                            <td>
                                                <small>{{ postulacion.fecha_postulacion|date:"d/m/Y H:i" }}</small>
                                            </td>
                                            <td>
                                                {% if postulacion.experiencia_anios %}
                                                    {{ postulacion.experiencia_anios }} años
                                                {% else %}
                                                    <span class="text-muted">No especificado</span>
                                                {% endif %}
                                            </td>
                                            <td>
                                                <div class="btn-group" role="group">
                                                    <button class="btn btn-info btn-sm" onclick="verPostulante({{ postulacion.persona.id }}, {{ postulacion.id }})" title="Ver detalles">
                                                        <i class="fal fa-eye"></i>
                                                    </button>
                                                    <a href="{% url 'master:cv_detail' id=postulacion.persona.id %}" class="btn btn-success btn-sm" title="Ver CV">
                                                        <i class="fal fa-folder"></i>
                                                    </a>
                                                    <button class="btn btn-warning btn-sm" onclick="editarPostulacion({{ postulacion.id }})" title="Editar postulación">
                                                        <i class="fal fa-edit"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>

                            <!-- Paginación -->
                            {% if is_paginated %}
                                <div class="pagination">
                                    <nav aria-label="Paginación de postulantes">
                                        <ul class="pagination justify-content-center">
                                            {% if page_obj.has_previous %}
                                                <li class="page-item">
                                                    <a class="page-link" href="?page=1{% if search %}&search={{ search }}{% endif %}{% if estado %}&estado={{ estado }}{% endif %}">Primera</a>
                                                </li>
                                                <li class="page-item">
                                                    <a class="page-link" href="?page={{ page_obj.previous_page_number }}{% if search %}&search={{ search }}{% endif %}{% if estado %}&estado={{ estado }}{% endif %}">Anterior</a>
                                                </li>
                                            {% endif %}

                                            <li class="page-item active">
                                                <span class="page-link">
                                                    Página {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}
                                                </span>
                                            </li>

                                            {% if page_obj.has_next %}
                                                <li class="page-item">
                                                    <a class="page-link" href="?page={{ page_obj.next_page_number }}{% if search %}&search={{ search }}{% endif %}{% if estado %}&estado={{ estado }}{% endif %}">Siguiente</a>
                                                </li>
                                                <li class="page-item">
                                                    <a class="page-link" href="?page={{ page_obj.paginator.num_pages }}{% if search %}&search={{ search }}{% endif %}{% if estado %}&estado={{ estado }}{% endif %}">Última</a>
                                                </li>
                                            {% endif %}
                                        </ul>
                                    </nav>
                                </div>
                            {% endif %}
                        {% else %}
                            <div class="empty-state">
                                <i class="fal fa-users"></i>
                                <h3>No hay postulantes</h3>
                                <p>No se encontraron postulantes para esta convocatoria.</p>
                            </div>
                        {% endif %}
                </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>

        <!-- Modales -->
        <div class="modal fade" id="verPostulanteModal" tabindex="-1" role="dialog" aria-labelledby="verPostulanteModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="verPostulanteModalLabel">Detalles del Postulante</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body" id="verPostulanteModalBody">
                        <!-- Contenido cargado dinámicamente -->
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal para editar postulación -->
        <div id="editarPostulacionModalContainer">
            <!-- El contenido del modal se carga dinámicamente aquí -->
        </div>

        <!-- Modal para registrar colaborador -->
        <div id="registrarColaboradorModalContainer">
            <!-- El contenido del modal se carga dinámicamente aquí -->
        </div>


        <script src="{% static 'js/vendors.bundle.js' %}"></script>
        <script src="{% static 'js/app.bundle.js' %}"></script>
        <script>
            // CSRF token para AJAX
            const csrfToken = '{{ csrf_token }}';

            // Función para ver detalles del postulante
            function verPostulante(personaId, postulacionId) {
                console.log('Ver postulante:', personaId, 'Postulación:', postulacionId);

                // Mostrar modal de ver postulante
                $('#verPostulanteModal').modal('show');
                $('#verPostulanteModalLabel').text('Detalles del Postulante');

                // Mostrar spinner de carga
                $('#verPostulanteModalBody').html(`
                    <div class="text-center">
                        <div class="spinner-border text-primary" role="status">
                            <span class="sr-only">Cargando...</span>
                        </div>
                        <p class="mt-2">Cargando detalles...</p>
                    </div>
                `);

                // Cargar detalles del postulante
                $.ajax({
                    url: `/master/personas/${personaId}/?postulacion_id=${postulacionId}`,
                    type: 'GET',
                    headers: {
                        'X-Requested-With': 'XMLHttpRequest',
                        'X-CSRFToken': csrfToken
                    },
                    success: function(data) {
                        $('#verPostulanteModalBody').html(data);
                    },
                    error: function(xhr, status, error) {
                        console.error('Error al cargar detalles:', error);
                        $('#verPostulanteModalBody').html(`
                            <div class="alert alert-danger">
                                <i class="fal fa-exclamation-triangle mr-2"></i>
                                Error al cargar los detalles del postulante. Por favor, intente nuevamente.
                            </div>
                        `);
                    }
                });
            }

            // Función para editar postulación
            function editarPostulacion(postulacionId) {
                console.log('Editar postulación:', postulacionId);

                // Cargar el formulario de edición primero
                $.ajax({
                    url: `/master/postulaciones/${postulacionId}/edit/`,
                    type: 'GET',
                    headers: {
                        'X-Requested-With': 'XMLHttpRequest',
                        'X-CSRFToken': csrfToken
                    },
                    success: function(data) {
                        // Cargar el contenido del modal
                        $('#editarPostulacionModalContainer').html(data);
                        
                        // Mostrar el modal después de cargar el contenido
                        $('#editarPostulacionModal').modal('show');
                        
                        // Configurar el envío del formulario
                        $('#editarPostulacionForm').on('submit', function(e) {
                            e.preventDefault();
                            
                            const formData = new FormData(this);
                            
                            $.ajax({
                                url: $(this).attr('action'),
                                type: 'POST',
                                data: formData,
                                processData: false,
                                contentType: false,
                                headers: {
                                    'X-Requested-With': 'XMLHttpRequest',
                                    'X-CSRFToken': csrfToken
                                },
                                success: function(response) {
                                    if (response.success) {
                                        showToast(response.message, 'success');
                                        $('#editarPostulacionModal').modal('hide');
                                        // Recargar la página para mostrar los cambios
                                        setTimeout(function() {
                                            location.reload();
                                        }, 1000);
                                    } else {
                                        showToast('Error al actualizar la postulación', 'error');
                                    }
                                },
                                error: function(xhr, status, error) {
                                    console.error('Error al actualizar postulación:', error);
                                    if (xhr.responseJSON && xhr.responseJSON.errors) {
                                        // Mostrar errores de validación
                                        let errorMessage = 'Errores de validación:\n';
                                        for (const field in xhr.responseJSON.errors) {
                                            errorMessage += `• ${field}: ${xhr.responseJSON.errors[field].join(', ')}\n`;
                                        }
                                        showToast(errorMessage, 'error');
                                    } else {
                                        showToast('Error al actualizar la postulación. Por favor, intente nuevamente.', 'error');
                                    }
                                }
                            });
                        });
                    },
                    error: function(xhr, status, error) {
                        console.error('Error al cargar formulario:', error);
                        $('#editarPostulacionModalContainer').html(`
                            <div class="modal fade" id="editarPostulacionModal" tabindex="-1" role="dialog" aria-labelledby="editarPostulacionModalLabel" aria-hidden="true">
                                <div class="modal-dialog modal-lg" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="editarPostulacionModalLabel">
                                                <i class="fal fa-exclamation-triangle text-danger"></i>
                                                Error
                                            </h5>
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="alert alert-danger">
                                                <i class="fal fa-exclamation-triangle mr-2"></i>
                                                Error al cargar el formulario de edición. Por favor, intente nuevamente.
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `);
                        $('#editarPostulacionModal').modal('show');
                    }
                });
            }

            // Función para registrar colaborador
            function registrarColaborador(postulacionId) {
                console.log('Registrar colaborador para postulación:', postulacionId);

                // Cargar el formulario de registro de colaborador
                $.ajax({
                    url: `/master/postulaciones/${postulacionId}/registrar-colaborador/`,
                    type: 'GET',
                    headers: {
                        'X-Requested-With': 'XMLHttpRequest',
                        'X-CSRFToken': csrfToken
                    },
                    success: function(data) {
                        // Cargar el contenido del modal
                        $('#registrarColaboradorModalContainer').html(data);
                        
                        // Mostrar el modal después de cargar el contenido
                        $('#registrarColaboradorModal').modal('show');
                        
                        // Configurar el envío del formulario
                        $('#registrarColaboradorForm').on('submit', function(e) {
                            e.preventDefault();
                            
                            const formData = new FormData(this);
                            
                            $.ajax({
                                url: $(this).attr('action'),
                                type: 'POST',
                                data: formData,
                                processData: false,
                                contentType: false,
                                headers: {
                                    'X-Requested-With': 'XMLHttpRequest',
                                    'X-CSRFToken': csrfToken
                                },
                                success: function(response) {
                                    if (response.success) {
                                        showToast(response.message, 'success');
                                        $('#registrarColaboradorModal').modal('hide');
                                        // Cerrar también el modal de edición de postulación
                                        $('#editarPostulacionModal').modal('hide');
                                        // Recargar la página para mostrar los cambios
                                        setTimeout(function() {
                                            location.reload();
                                        }, 1000);
                                    } else {
                                        showToast('Error al registrar el colaborador', 'error');
                                    }
                                },
                                error: function(xhr, status, error) {
                                    console.error('Error al registrar colaborador:', error);
                                    if (xhr.responseJSON && xhr.responseJSON.errors) {
                                        // Mostrar errores de validación
                                        let errorMessage = 'Errores de validación:\n';
                                        for (const field in xhr.responseJSON.errors) {
                                            if (field === 'general') {
                                                errorMessage += `• ${xhr.responseJSON.errors[field].join(', ')}\n`;
                                            } else {
                                                errorMessage += `• ${field}: ${xhr.responseJSON.errors[field].join(', ')}\n`;
                                            }
                                        }
                                        showToast(errorMessage, 'error');
                                    } else {
                                        showToast('Error al registrar el colaborador. Por favor, intente nuevamente.', 'error');
                                    }
                                }
                            });
                        });
                    },
                    error: function(xhr, status, error) {
                        console.error('Error al cargar formulario de colaborador:', error);
                        showToast('Error al cargar el formulario de registro. Por favor, intente nuevamente.', 'error');
                    }
                });
            }


            function showPersistentToast(message, type = 'info') {
                // Guardar en localStorage para mostrar después del reload
                const toastData = {
                    message: message,
                    type: type,
                    timestamp: Date.now()
                };
                localStorage.setItem('toastMessage', JSON.stringify(toastData));
            }

            function showToast(message, type = 'info') {
                // Crear toast dinámicamente
                const toastId = 'toast-' + Date.now();
                const toastHtml = `
                    <div class="toast" id="${toastId}" role="alert" aria-live="assertive" aria-atomic="true" data-delay="5000">
                        <div class="toast-header">
                            <i class="fal fa-${type === 'success' ? 'check-circle text-success' : type === 'error' ? 'exclamation-triangle text-danger' : 'info-circle text-info'} mr-2"></i>
                            <strong class="mr-auto">Sistema</strong>
                            <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="toast-body">
                            ${message}
                        </div>
                    </div>
                `;

                // Agregar toast al contenedor
                if (!document.querySelector('.toast-container')) {
                    document.body.insertAdjacentHTML('beforeend', '<div class="toast-container"></div>');
                }
                document.querySelector('.toast-container').insertAdjacentHTML('beforeend', toastHtml);

                // Mostrar toast
                $(`#${toastId}`).toast('show');

                // Remover toast después de que se oculte
                $(`#${toastId}`).on('hidden.bs.toast', function() {
                    this.remove();
                });
            }

            // Mostrar toast persistente si existe
            $(document).ready(function() {
                const toastData = localStorage.getItem('toastMessage');
                if (toastData) {
                    try {
                        const data = JSON.parse(toastData);
                        // Solo mostrar si es reciente (menos de 5 segundos)
                        if (Date.now() - data.timestamp < 5000) {
                            showToast(data.message, data.type);
                        }
                        localStorage.removeItem('toastMessage');
                    } catch (e) {
                        localStorage.removeItem('toastMessage');
                    }
                }
            });
        </script>
                </main>
            </div>
    </body>
</html>
