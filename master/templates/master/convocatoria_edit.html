{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Editar Convocatoria - TalentHub">
    <meta name="author" content="TalentHub">
    <title>Editar Convocatoria - TalentHub</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{% static 'img/favicon/favicon.ico' %}">
    
    <!-- CSS -->
    <link rel="stylesheet" href="{% static 'css/vendors.bundle.css' %}">
    <link rel="stylesheet" href="{% static 'css/app.bundle.css' %}">
    <link rel="stylesheet" href="{% static 'css/skins/skin-master.css' %}">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="{% static 'css/fa-solid.css' %}">
    <link rel="stylesheet" href="{% static 'css/fa-regular.css' %}">
    <link rel="stylesheet" href="{% static 'css/fa-light.css' %}">
    <link rel="stylesheet" href="{% static 'css/fa-brands.css' %}">
    <link rel="stylesheet" href="{% static 'css/fa-duotone.css' %}">
    
    <!-- Estilos personalizados -->
    <style>
        .text-custom-primary {
            color: #12A58A !important;
        }
        .icon-custom-primary {
            color: #12A58A !important;
            background-color: white !important;
            padding: 8px;
            border-radius: 50%;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div class="page-wrapper">
        <!-- Header -->
        <div class="page-inner">
            <div class="page-content-wrapper">
                <div class="content-wrapper">
                    <div class="content">
                        <div class="row">
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h3 class="card-title">
                                            <i class="fal fa-edit mr-2"></i>
                                            Editar Convocatoria
                                        </h3>
                                        <div class="card-options">
                                            <a href="{% url 'master:convocatorias' %}" class="btn btn-secondary">
                                                <i class="fal fa-arrow-left mr-1"></i>
                                                Volver a Convocatorias
                                            </a>
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        <form method="post">
                                            {% csrf_token %}
                                            
                                            <!-- Información Principal -->
                                            <div class="row mb-4">
                                                <div class="col-12">
                                                    <h5 class="text-custom-primary mb-3">
                                                        <i class="fal fa-info-circle icon-custom-primary"></i>
                                                        Información Principal
                                                    </h5>
                                                </div>
                                                <div class="col-md-8">
                                                    <div class="form-group">
                                                        <label for="{{ form.titulo.id_for_label }}" class="form-label font-weight-bold">Título de la Convocatoria *</label>
                                                        {{ form.titulo }}
                                                        {% if form.titulo.errors %}
                                                            <div class="text-danger">{{ form.titulo.errors.0 }}</div>
                                                        {% endif %}
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label for="{{ form.cargo.id_for_label }}" class="form-label font-weight-bold">Cargo *</label>
                                                        {{ form.cargo }}
                                                        {% if form.cargo.errors %}
                                                            <div class="text-danger">{{ form.cargo.errors.0 }}</div>
                                                        {% endif %}
                                                    </div>
                                                </div>
                                                <div class="col-12">
                                                    <div class="form-group">
                                                        <label for="{{ form.descripcion.id_for_label }}" class="form-label font-weight-bold">Descripción del Puesto *</label>
                                                        {{ form.descripcion }}
                                                        {% if form.descripcion.errors %}
                                                            <div class="text-danger">{{ form.descripcion.errors.0 }}</div>
                                                        {% endif %}
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Fechas -->
                                            <div class="row mb-4">
                                                <div class="col-12">
                                                    <h5 class="text-custom-primary mb-3">
                                                        <i class="fal fa-calendar-alt icon-custom-primary"></i>
                                                        Fechas Importantes
                                                    </h5>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label for="{{ form.fecha_apertura.id_for_label }}" class="form-label font-weight-bold">Fecha de Apertura *</label>
                                                        {{ form.fecha_apertura }}
                                                        {% if form.fecha_apertura.errors %}
                                                            <div class="text-danger">{{ form.fecha_apertura.errors.0 }}</div>
                                                        {% endif %}
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label for="{{ form.fecha_cierre.id_for_label }}" class="form-label font-weight-bold">Fecha de Cierre *</label>
                                                        {{ form.fecha_cierre }}
                                                        {% if form.fecha_cierre.errors %}
                                                            <div class="text-danger">{{ form.fecha_cierre.errors.0 }}</div>
                                                        {% endif %}
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label for="{{ form.fecha_inicio_trabajo.id_for_label }}" class="form-label font-weight-bold">Fecha de Inicio de Trabajo</label>
                                                        {{ form.fecha_inicio_trabajo }}
                                                        {% if form.fecha_inicio_trabajo.errors %}
                                                            <div class="text-danger">{{ form.fecha_inicio_trabajo.errors.0 }}</div>
                                                        {% endif %}
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Estado y Tipo -->
                                            <div class="row mb-4">
                                                <div class="col-12">
                                                    <h5 class="text-custom-primary mb-3">
                                                        <i class="fal fa-cog icon-custom-primary"></i>
                                                        Configuración
                                                    </h5>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="{{ form.estado.id_for_label }}" class="form-label font-weight-bold">Estado *</label>
                                                        {{ form.estado }}
                                                        {% if form.estado.errors %}
                                                            <div class="text-danger">{{ form.estado.errors.0 }}</div>
                                                        {% endif %}
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="{{ form.tipo.id_for_label }}" class="form-label font-weight-bold">Tipo de Convocatoria *</label>
                                                        {{ form.tipo }}
                                                        {% if form.tipo.errors %}
                                                            <div class="text-danger">{{ form.tipo.errors.0 }}</div>
                                                        {% endif %}
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Detalles del Puesto -->
                                            <div class="row mb-4">
                                                <div class="col-12">
                                                    <h5 class="text-custom-primary mb-3">
                                                        <i class="fal fa-briefcase icon-custom-primary"></i>
                                                        Detalles del Puesto
                                                    </h5>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label for="{{ form.numero_vacantes.id_for_label }}" class="form-label font-weight-bold">Número de Vacantes *</label>
                                                        {{ form.numero_vacantes }}
                                                        {% if form.numero_vacantes.errors %}
                                                            <div class="text-danger">{{ form.numero_vacantes.errors.0 }}</div>
                                                        {% endif %}
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label for="{{ form.experiencia_minima.id_for_label }}" class="form-label font-weight-bold">Experiencia Mínima (años)</label>
                                                        {{ form.experiencia_minima }}
                                                        {% if form.experiencia_minima.errors %}
                                                            <div class="text-danger">{{ form.experiencia_minima.errors.0 }}</div>
                                                        {% endif %}
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label for="{{ form.salario_ofrecido.id_for_label }}" class="form-label font-weight-bold">Salario Ofrecido</label>
                                                        {{ form.salario_ofrecido }}
                                                        {% if form.salario_ofrecido.errors %}
                                                            <div class="text-danger">{{ form.salario_ofrecido.errors.0 }}</div>
                                                        {% endif %}
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Ubicación y Modalidad -->
                                            <div class="row mb-4">
                                                <div class="col-12">
                                                    <h5 class="text-custom-primary mb-3">
                                                        <i class="fal fa-map-marker-alt icon-custom-primary"></i>
                                                        Ubicación y Modalidad
                                                    </h5>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="{{ form.ubicacion.id_for_label }}" class="form-label font-weight-bold">Ubicación</label>
                                                        {{ form.ubicacion }}
                                                        {% if form.ubicacion.errors %}
                                                            <div class="text-danger">{{ form.ubicacion.errors.0 }}</div>
                                                        {% endif %}
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="{{ form.modalidad_trabajo.id_for_label }}" class="form-label font-weight-bold">Modalidad de Trabajo</label>
                                                        {{ form.modalidad_trabajo }}
                                                        {% if form.modalidad_trabajo.errors %}
                                                            <div class="text-danger">{{ form.modalidad_trabajo.errors.0 }}</div>
                                                        {% endif %}
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Requisitos -->
                                            <div class="row mb-4">
                                                <div class="col-12">
                                                    <h5 class="text-custom-primary mb-3">
                                                        <i class="fal fa-list-check icon-custom-primary"></i>
                                                        Requisitos
                                                    </h5>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="{{ form.requisitos_minimos.id_for_label }}" class="form-label font-weight-bold">Requisitos Mínimos</label>
                                                        {{ form.requisitos_minimos }}
                                                        {% if form.requisitos_minimos.errors %}
                                                            <div class="text-danger">{{ form.requisitos_minimos.errors.0 }}</div>
                                                        {% endif %}
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="{{ form.requisitos_deseables.id_for_label }}" class="form-label font-weight-bold">Requisitos Deseables</label>
                                                        {{ form.requisitos_deseables }}
                                                        {% if form.requisitos_deseables.errors %}
                                                            <div class="text-danger">{{ form.requisitos_deseables.errors.0 }}</div>
                                                        {% endif %}
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Responsable y Estado -->
                                            <div class="row mb-4">
                                                <div class="col-12">
                                                    <h5 class="text-custom-primary mb-3">
                                                        <i class="fal fa-user-tie icon-custom-primary"></i>
                                                        Responsable y Estado del Sistema
                                                    </h5>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="{{ form.responsable_rrhh.id_for_label }}" class="form-label font-weight-bold">Responsable de RRHH</label>
                                                        {{ form.responsable_rrhh }}
                                                        {% if form.responsable_rrhh.errors %}
                                                            <div class="text-danger">{{ form.responsable_rrhh.errors.0 }}</div>
                                                        {% endif %}
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="{{ form.activo.id_for_label }}" class="form-label font-weight-bold">Estado del Sistema</label>
                                                        <div class="form-check">
                                                            {{ form.activo }}
                                                            <label class="form-check-label" for="{{ form.activo.id_for_label }}">
                                                                Activo
                                                            </label>
                                                        </div>
                                                        {% if form.activo.errors %}
                                                            <div class="text-danger">{{ form.activo.errors.0 }}</div>
                                                        {% endif %}
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Botones de Acción -->
                                            <div class="row">
                                                <div class="col-12">
                                                    <div class="form-group text-right">
                                                        <a href="{% url 'master:convocatorias' %}" class="btn btn-secondary mr-2">
                                                            <i class="fal fa-times mr-1"></i>
                                                            Cancelar
                                                        </a>
                                                        <button type="submit" class="btn btn-primary">
                                                            <i class="fal fa-save mr-1"></i>
                                                            Guardar Cambios
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="{% static 'js/vendors.bundle.js' %}"></script>
    <script src="{% static 'js/app.bundle.js' %}"></script>
    
    <!-- Scripts para formulario -->
    <script>
        $(document).ready(function() {
            // Aplicar clases de Bootstrap a los campos del formulario
            $('input, select, textarea').addClass('form-control');
            $('input[type="checkbox"]').removeClass('form-control').addClass('form-check-input');
            
            // Configurar datepicker para campos de fecha
            $('input[type="date"]').attr('type', 'datetime-local');
            
            // Configurar textarea para descripción
            $('#id_descripcion').attr('rows', '4');
            $('#id_requisitos_minimos').attr('rows', '4');
            $('#id_requisitos_deseables').attr('rows', '4');
        });
    </script>
</body>
</html>
